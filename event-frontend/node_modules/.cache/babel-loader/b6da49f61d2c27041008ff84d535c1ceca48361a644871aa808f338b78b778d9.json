{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\Summative-Project-Event-Locator-App-Backend\\\\event-frontend\\\\src\\\\components\\\\Notification.js\",\n  _s = $RefreshSig$();\nimport \"./Notification.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { io } from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Notification() {\n  _s();\n  const [notifications, setNotifications] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const {\n    t\n  } = useTranslation();\n  useEffect(() => {\n    const newSocket = io('http://localhost:3000');\n    setSocket(newSocket);\n    return () => {\n      newSocket.disconnect();\n    };\n  }, []);\n  useEffect(() => {\n    if (!socket) return;\n    socket.on('notification', message => {\n      const newNotification = {\n        id: Date.now(),\n        message,\n        isNew: true\n      };\n      setNotifications(prev => [newNotification, ...prev]);\n      setTimeout(() => {\n        setNotifications(prev => prev.map(notif => notif.id === newNotification.id ? {\n          ...notif,\n          isNew: false\n        } : notif));\n      }, 5000);\n    });\n    return () => {\n      socket.off('notification');\n    };\n  }, [socket]);\n  const dismissNotification = id => {\n    setNotifications(prev => prev.filter(notif => notif.id !== id));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notification-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: t('notifications')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification-item ${notification.isNew ? 'new' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-content\",\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"notification-dismiss\",\n        onClick: () => dismissNotification(notification.id),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)]\n    }, notification.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(Notification, \"YO6T+85myTZg7+Ar09kjNkivrBM=\", false, function () {\n  return [useTranslation];\n});\n_c = Notification;\nexport default Notification;\nvar _c;\n$RefreshReg$(_c, \"Notification\");","map":{"version":3,"names":["React","useEffect","useState","useTranslation","io","jsxDEV","_jsxDEV","Notification","_s","notifications","setNotifications","socket","setSocket","t","newSocket","disconnect","on","message","newNotification","id","Date","now","isNew","prev","setTimeout","map","notif","off","dismissNotification","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","notification","onClick","_c","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/Desktop/Summative-Project-Event-Locator-App-Backend/event-frontend/src/components/Notification.js"],"sourcesContent":["import \"./Notification.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { io } from \"socket.io-client\";\n\nfunction Notification() {\n    const [notifications, setNotifications] = useState([]);\n    const [socket, setSocket] = useState(null);\n    const { t } = useTranslation();\n\n    useEffect(() => {\n        const newSocket = io('http://localhost:3000');\n        setSocket(newSocket);\n        return () => {\n            newSocket.disconnect();\n        };\n    }, []);\n\n    useEffect(() => {\n        if (!socket) return;\n        socket.on('notification', message => {\n            const newNotification = {\n                id: Date.now(),\n                message,\n                isNew: true,\n            };\n            setNotifications(prev => [newNotification, ...prev]);\n            setTimeout(() => {\n                setNotifications(prev =>\n                    prev.map(notif =>\n                        notif.id === newNotification.id ? { ...notif, isNew: false } : notif\n                    )\n                );\n            }, 5000);\n        });\n        return () => {\n            socket.off('notification');\n        };\n    }, [socket]);\n\n    const dismissNotification = id => {\n        setNotifications(prev => prev.filter(notif => notif.id !== id));\n    };\n\n    return (\n        <div className=\"notification-container\">\n            <h3>{t('notifications')}</h3>\n            {notifications.map(notification => (\n                <div\n                    key={notification.id}\n                    className={`notification-item ${notification.isNew ? 'new' : ''}`}\n                >\n                    <div className=\"notification-content\">{notification.message}</div>\n                    <button\n                        className=\"notification-dismiss\"\n                        onClick={() => dismissNotification(notification.id)}\n                    >\n                        Ã—\n                    </button>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default Notification;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}